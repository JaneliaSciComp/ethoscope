<!-- home.html -->
    <div class="jumbotron text-center" ng-cloak>
        <h1>Device List</h1>
        <div class="intro">Scan the network to autodectect connected devices</div>

        <button class=" btn btn-default" ng-click="get_devices()">Scan Network for Devices</button>

        <div  id="loading_devices" class="spinner"></div>
        <div id="node-info" class="intro">
            <p><span class="fa fa-clock-o"></span> Node Time: {{time}}</p>
            <p><span class="fa fa-clock-o"></span> Your Time: {{localtime}}</p>
        </div>

    </div>

<table class="table table-striped" ng-cloak>
            <thead>
            <th>Type</th>
            <th>Name</th>
            <th>Status</th>
            <th>Elapsed time in Status</th>
            <th>Time since backup</th>
            <th>ip</th>
            <th>id</th>
            <th><center>Select</center></th>
            </thead>
            <tbody>
            <tr ng-repeat="device in devices">
                <td ng-if="device.type == 'sm'">Sleep Monitor</td>
                <td ng-if="device.type == 'sd'">Sleep Deprivator</td>
                <td>
                    <a ng-href="/#sm/{{device.id}}" target="_blank">
                    <span class="fa fa-circle-o"></span><span> {{device.name}}</span>
                    </a>
                </td>
                <td><span ng-if="device.status == 'running'" class="fa fa-circle color-green"></span>
            <span ng-if="device.status == 'stopped'" class="fa fa-circle color-red"></span> {{device.status}}</td>
                <td>{{elapsedtime(device.time)}}</td>
                <td>{{elapsedtime(device.time_since_backup)}}</td>
                <td>{{device.ip}}</td>
                <td>{{device.id.substring(0,6)}}</td>
                <td><center>
                    <input type="checkbox" checklist-model="devices_to_update_selected" checklist-value="d"></center>
                </td>
            </tr>
            </tbody>
    </table>
